<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>let和const，块级作用域</title>
    <style>
        p,
        li {
            font-size: 20px;
            padding: 0 10px;
            line-height: 40px;
        }

    </style>
</head>

<body>
    <h1>let关键字</h1>
    <div>
        <h3>基本用法</h3>
        <p>ES6 新增了let命令，用来声明变量。它的用法类似于var，但是所声明的变量，只在let命令所在的代码块内有效。</p>
        <p>适合声明局部变量，可以解决es5语法中for的i变量输出为全局变量的问题</p>
        <h3>不存在变量提升（声明提前）</h3>
        <p>关键字var声明的变量，和function关键字声明的函数都存在变量提升的问题，但是let不会，通过let声明的变量或者函数，必须在声明后才能使用。</p>
        <h3>暂时性死区</h3>
        <p>只要块级作用域内存在let命令，它所声明的变量就“绑定”（binding）这个区域，不再受外部的影响。</p>
        <h3>不允许重复声明</h3>
        <p>let不允许在相同作用域内，重复声明同一个变量。</p>
    </div>
    <h1>块级作用域</h1>
    <div>
        <p>ES5 只有全局作用域和函数作用域，没有块级作用域，这带来很多不合理的场景。例如上边提到的for循环的i变量输出为全局变量的问题，此时换做用let来声明循环变量i，就不会出现这种问题</p>
        <p>通常会出现的块级作用域，if语句内，循环语句内，或者直接写{}，在这些语句中使用let关键字来声明变量就会产生块级作用域</p>
        <p>{}块级作用域可随意嵌套</p>
        <p>之前讲过的少用全局变量，和全局函数，这样在团队开发或者js文件过多时就可能会造成命名冲突。</p>
        <h3>块级作用域和函数声明</h3>
        <p>
            函数能不能在块级作用域之中声明？这是一个相当令人混淆的问题。 ES5 规定，函数只能在顶层作用域和函数作用域之中声明，不能在块级作用域声明。 但是，浏览器没有遵守这个规定，为了兼容以前的旧代码，还是支持在块级作用域之中声明函数。 ES6 引入了块级作用域，明确允许在块级作用域之中声明函数。ES6 规定，块级作用域之中，函数声明语句的行为类似于let，在块级作用域之外不可引用。
        </p>
        <h4>ES6规定,在浏览器环境下:</h4>
        <ul>
            <li>允许在块级作用域内声明函数。</li>
            <li>函数声明类似于var，即会提升到全局作用域或函数作用域的头部。</li>
            <li>同时，函数声明还会提升到所在的块级作用域的头部。</li>
        </ul>
        <h3>let声明的全局变量不会作为window对象的属性存在</h3>
    </div>
    <h1>const关键字</h1>
    <div>
        <p>创建一个只读性的变量，对于存储原始类型的变量，不允许改变他们的值，对于引用类型来说不允许改变他们的地址，但可以改变堆中的值</p>
        <p>const声明变量时必须赋值，即const a;就会报错，而const a = undefined;就不会报错</p>
        <p>const也有let有一些相同的特性：1，暂时性死区；2，不存在声明提前；3.不允许重复声明;4.声明的全局变量不会作为window对象的属性存在</p>
    </div>
</body>
<script>
    const foo = 1;
    console.log(foo);
    console.log(window.foo)
</script>

</html>
