<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>变量的解构赋值</title>
    <style>
        p,
        li {
            font-size: 20px;
            padding: 0 10px;
            line-height: 40px;
        }
        div{
            padding-bottom: 80px;
        }
    </style>
</head>

<body>
    <h1>变量的解构赋值</h1>
    <div>
        <h3>基本用法</h3>
        <p>ES6 允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构</p>
        <h3>数组的解构赋值</h3>
        <p>按照一定的模式从数组中提取值并赋值给变量</p>
        <ul>
            <li>let [a,b,c] = [1,2,3]</li>
            <li>let [a,[b],[[c]]] = [1,[2],[[3]]]</li>
            <li>let [,,a,b] = [1,2,3]</li>
            <li>let [a,b,...c] = [1,2,3,4,5,6,7]</li>
        </ul>
        <p>如果等号的右边不是数组（或者严格地说，不是可遍历的结构，那么将会报错。</p>
        <h4>解构中添加默认值</h4>
        <p>解构赋值允许指定默认值。如果一个数组成员不严格等于(即 ===)undefined，默认值是不会生效的。</p>
        <p>默认值可以引用解构赋值的其他变量，但该变量必须已经声明。如下：</p>
        <p>
            let [x = 1, y = x] = []; // x=1; y=1 <br> let [x = 1, y = x] = [2]; // x=2; y=2 <br> let [x = 1, y = x] = [1, 2]; // x=1; y=2 <br> let [x = y, y = 1] = []; // Error
        </p>
        <h3>对象的解构赋值</h3>
        <p>对象的解构与数组有一个重要的不同。数组的元素是按次序排列的，变量的取值由它的位置决定；而对象的属性没有次序，变量必须与属性同名，才能取到正确的值。</p>
        <p>
            /*****简写*****/ let { bar, foo } = { foo: "aaa", bar: "bbb" };<br> foo // "aaa"<br> bar // "bbb"<br><br> let { baz } = { foo: "aaa", bar: "bbb" };<br> baz // undefined<br>
        </p>
        <p>如果变量名与属性名不一致，必须写成下面这样。</p>
        <p>
            let { foo: baz } = { foo: 'aaa', bar: 'bbb' };<br> baz // "aaa"<br> let obj = { first: 'hello', last: 'world' };<br> let { first: f, last: l } = obj;<br> f // 'hello'<br> l // 'world'
        </p>
        <p>那么也就表明上一中写法实际上是如下方式的简写</p>
        <p>
            let { foo: foo, bar: bar } = { foo: "aaa", bar: "bbb" };
        </p>
        <p>如果以简写的方式来声明的话，左边括号内写的名称，必须与右边对象的其中一个属性名相同，否则值就是undefined.但是以下几种情况需要注意；</p>
        <p>
            let {0:x} = [1,2,3,4]; //x = 1;<br> let {length:x} = [1,2,3,4]; //x = 4;<br> let {0:x} = 'hello'; x = 'h';<br> let {length:x} = 'hello'; //x = 5;<br>
        </p>
        <p>同样对象的解构也允许嵌套</p>
        <p>
            let { p, p: [x, { y }] } = {p: ['Hello',{ y: 'World' }]};<br> x // "Hello"<br> y // "World"<br> p // ["Hello", {y: "World"}]<br>
        </p>
        <h4>对象解构的默认值</h4>
        <p>
            let {a = 1,b} = {b:2} //a = 1,b = 2 let {a = 1,b} = {a:undefinde,b:2} //a = 1,b = 2 let {a = 1,b} = {a:null,b:2} //a = null,b = 2
        </p>
        <h3>字符串解构</h3>
        <p>字符串也可以解构赋值。这是因为此时，字符串被转换成了一个类似数组的对象。</p>
        <p>
            const [a, b, c, d, e] = 'hello'; <br>a // "h"<br> b // "e" <br>c // "l" <br>d // "l" <br>e // "o"
        </p>
        <h3>函数参数的解构</h3>
        <p>
            /*****简单写法******/<br>
            function add([x, y]){<br>
              return x + y;<br>
            }<br>
            add([1, 2]); // 3<br>
            /*******参数解构默认值********/<br>
            function add([x, y = 4]){<br>
              return x + y;<br>
            }<br>
            add([1]); // 5
        </p>
    </div>
</body>
<script>
</script>

</html>
